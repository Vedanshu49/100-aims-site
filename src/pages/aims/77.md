---
layout: ../../layouts/AimLayout.astro
aimNumber: 77
title: "Aim #77: Group data and calculate mean"
tags: ['Intermediate', 'Pandas']
---

### Aim #77: Group data by a column and calculate mean.

**Description**

This program demonstrates the powerful "group by" functionality in Pandas. We will group our student data by 'Subject' and then calculate the average mark for each subject.

**Setup**

This example uses the `public/student_data.csv` file.

**Python Code**

```python
import pandas as pd

try:
    df = pd.read_csv("public/student_data.csv")
    print("Original DataFrame:")
    print(df)

    # Group the DataFrame by the 'Subject' column
    # Then, select the 'Marks' column and calculate the mean for each group
    average_marks_by_subject = df.groupby('Subject')['Marks'].mean()
    
    print("\n\nAverage marks per subject:")
    print(average_marks_by_subject)

except FileNotFoundError:
    print("Error: student_data.csv not found.")
```

**Output**

```text
Original DataFrame:
   StudentID StudentName  Marks  Subject
0        101       Aarav     95     Math
1        102        Diya     88  Science
2        103      Vivaan     92     Math
3        104        Riya     98  English
4        105       Kabir     76  Science
5        106      Saanvi     85  English


Average marks per subject:
Subject
English    91.5
Math       93.5
Science    82.0
Name: Marks, dtype: float64
```

**Explanation**

- **`.groupby(column)`**: This method groups the DataFrame into smaller DataFrames based on the unique values in the specified column (`'Subject'`).
- **Column Selection `['Marks']`**: After grouping, we select the `'Marks'` column from each group. We want to perform our calculation on this specific column.
- **Aggregation `.mean()`**: Finally, we apply an aggregation function, `.mean()`, to the selected data for each group. This calculates the average of the marks for 'English', 'Math', and 'Science' separately.
- **Result**: The result is a new Pandas Series where the index is the unique values from the grouping column ('Subject') and the values are the results of the aggregation (the mean marks).
