---
// No props needed for this basic layout yet
import '../styles/global.css';
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>100 Python Aims</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
</head>
<body>
    <header class="site-header">
        <div class="container header-content">
            <a href="/aims" class="site-title">100 Python Aims</a>
            <button id="theme-toggle" class="theme-toggle-button">Toggle Theme</button>
        </div>
    </header>

    <main class="site-main container">
        <slot />
    </main>

    <footer class="site-footer">
        <div class="container footer-content">
            <p class="footer-text">&copy; {new Date().getFullYear()} | Built with Astro</p>
        </div>
    </footer>

    <script is:inline>
        const themeToggle = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;

        // Check for saved theme preference on load
        const currentTheme = localStorage.getItem('theme');
        if (currentTheme) {
            htmlElement.classList.add(currentTheme);
        } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            // If no preference, check system preference
            htmlElement.classList.add('dark'); // Use 'dark' class for theming
        }

        themeToggle.addEventListener('click', () => {
            if (htmlElement.classList.contains('dark')) {
                htmlElement.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                htmlElement.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        });
    </script>
</body>
</html>